// Generated by CoffeeScript 1.6.3
var facto, util;

util = require('also').util;

facto = require('facto');

module.exports = function(fn) {
  var fnArgs;
  fnArgs = util.argsOf(fn);
  if (fnArgs.length === 0) {
    return function() {
      return fn.call(this);
    };
  }
  return function(done) {
    var promise;
    if (fnArgs[0] === 'facto') {
      promise = fn.call(this, function() {
        return console.log(facto(done()));
      });
    } else {
      promise = fn.call(this, done);
    }
    if ((promise != null) && (promise.then != null)) {
      return promise.then((function() {}), done);
    }
  };
};
